defmodule Tbs_calc do

def get_itbs(i_mcs) do
  mcs_tbs = {  {0, 2, 0, 0}, {1, 2, 1, 0}, {2, 2, 2, 0}, {3, 2, 3, 0},
              {4, 2, 4, 0}, {5, 2, 5, 0}, {6, 2, 6, 0}, {7, 2, 7, 0},
              {8, 2, 8, 0}, {9, 2, 9, 0}, {10, 2, 10, 0}, {11, 4, 10, 0},
              {12, 4, 11, 0}, {13, 4, 12, 0}, {14, 4, 13, 0}, {15, 4, 14, 0},
              {16, 4, 15, 0}, {17, 4, 16, 0}, {18, 4, 17, 0}, {19, 4, 18, 0},
              {20, 4, 19, 0}, {21, 6, 19, 0}, {22, 6, 20, 0}, {23, 6, 21, 0},
              {24, 6, 22, 0}, {25, 6, 23, 0}, {26, 6, 24, 0}, {27, 6, 25, 0}, {28, 6, 26, 0}
            }
  mcs_tbs
  |> elem(i_mcs)
  |> elem(2)
end


  def get_tbs(1, n_prb) when n_prb >0 and n_prb <= 110 do
    i_tbs=  { 16, 32, 56, 88, 120, 152, 176, 208, 224, 256, 288, 328, 344, 376, 392, 424, 456, 488, 504, 536, 568, 600, 616,
              648, 680, 712, 744, 776, 776, 808, 840, 872, 904, 936, 968, 1000, 1032, 1032, 1064, 1096, 1128, 1160, 1192, 1224, 1256,
              1256, 1288, 1320, 1352, 1384, 1416, 1416, 1480, 1480, 1544, 1544, 1608, 1608, 1608, 1672, 1672, 1736, 1736, 1800, 1800, 1800,
              1864, 1864, 1928, 1928, 1992, 1992, 2024, 2088, 2088, 2088, 2152, 2152, 2216, 2216, 2280, 2280, 2280, 2344, 2344, 2408,
              2408, 2472, 2472, 2536, 2536, 2536, 2600, 2600, 2664, 2664, 2728, 2728, 2728, 2792
             }
    i_tbs |> elem(n_prb - 1)
  end

  def get_tbs(2, n_prb) when n_prb >0 and n_prb <= 110 do
    i_tbs=  { 24, 56, 88, 144, 176, 208, 224, 256, 328, 344, 376, 424, 456, 488, 520, 568, 600, 632, 680, 712, 744, 776, 808, 872,
             904, 936, 968, 1000, 1032, 1064, 1128, 1160, 1192, 1224, 1256, 1288, 1352, 1384, 1416, 1416, 1480, 1544, 1544, 1608,
             1608, 1672, 1736, 1736, 1800, 1800,1864, 1864, 1928, 1992, 1992, 2024, 2088, 2088, 2152, 2152, 2216, 2280, 2280, 2344,
             2344, 2408, 2472, 2472, 2536, 2536, 2600, 2600, 2664, 2728, 2728, 2792, 2792, 2856, 2856, 2856, 2984, 2984, 2984, 3112,
             3112, 3112, 3240, 3240, 3240, 3240, 3368, 3368, 3368, 3496, 3496, 3496, 3496, 3624, 3624, 3624, 3752, 3752, 3752, 3752,
             3880, 3880, 3880, 4008, 4008, 4008
            }
    prb_indx = n_prb - 1
    i_tbs |> elem(prb_indx)
  end

  def get_tbs(3, n_prb) when n_prb >0 and n_prb <= 110 do
    i_tbs=  {40, 104, 176, 208, 256, 328, 392, 440, 504, 568, 616, 680, 744, 808, 872, 904, 968, 1032, 1096, 1160,
             1224, 1256, 1320, 1384, 1416, 1480, 1544, 1608, 1672, 1736, 1800, 1864, 1928, 1992, 2024, 2088, 2152, 2216, 2280, 2344,
             2408, 2472, 2536, 2536, 2600, 2664, 2728, 2792, 2856, 2856, 2984, 2984, 3112, 3112, 3240, 3240, 3368, 3368, 3496, 3496,
             3624, 3624, 3624, 3752, 3752, 3880, 3880, 4008, 4008, 4136, 4136, 4264, 4264, 4392, 4392, 4392, 4584, 4584, 4584, 4776,
             4776, 4776, 4776, 4968, 4968, 4968, 5160, 5160, 5160, 5352, 5352, 5352, 5352, 5544, 5544, 5544, 5736, 5736, 5736, 5736,
             5992, 5992, 5992, 5992, 6200, 6200, 6200, 6200, 6456, 6456
           }
    prb_indx = n_prb - 1
    i_tbs |> elem(prb_indx)
  end

  def get_tbs(4, n_prb) when n_prb >0 and n_prb <= 110 do
    i_tbs=  {56, 120, 208, 256, 328, 408, 488, 552, 632, 696, 616, 680, 744, 808, 872, 904, 968, 1032, 1096, 1160,
            1480, 1544, 1608, 1736, 1800, 1864, 1928, 1992, 2088, 2152, 2216, 2280, 2344, 2408, 2472, 2600, 2664, 2728, 2792, 2856,
            2984, 2984, 3112, 3112, 3240, 3240, 3368, 3496, 3496, 3624, 3624, 3752, 3752, 3880, 4008, 4008, 4136, 4136, 4264, 4264,
            4392, 4392, 4584, 4584, 4584, 4776, 4776, 4968, 4968, 4968, 5160, 5160, 5160, 5352, 5352, 5544, 5544, 5544, 5736, 5736,
            5736, 5992, 5992, 5992, 5992, 6200, 6200, 6200, 6456, 6456, 6456, 6456, 6712, 6712, 6712, 6968, 6968, 6968, 6968, 7224,
            7224, 7224, 7480, 7480, 7480, 7480, 7736, 7736, 7736, 7992
           }
    prb_indx = n_prb - 1
    i_tbs |> elem(prb_indx)
  end

  def get_tbs(5, n_prb) when n_prb >0 and n_prb <= 110 do
    i_tbs=  {72, 144, 224, 328, 424, 504, 600, 680, 776, 872, 968, 1032, 1128, 1224, 1320, 1384, 1480, 1544, 1672, 1736,
            1864, 1928, 2024, 2088, 2216, 2280, 2344, 2472, 2536, 2664, 2728, 2792, 2856, 2984, 3112, 3112, 3240, 3368, 3496, 3496,
            3624, 3752, 3752, 3880, 4008, 4008, 4136, 4264, 4392, 4392, 4584, 4584, 4776, 4776, 4776, 4968, 4968, 5160, 5160, 5352,
            5352, 5544, 5544, 5736, 5736, 5736, 5992, 5992, 5992, 6200, 6200, 6200, 6456, 6456, 6712, 6712, 6712, 6968, 6968, 6968,
            7224, 7224, 7224, 7480, 7480, 7480, 7736, 7736, 7736, 7992, 7992, 7992, 8248, 8248, 8248, 8504, 8504, 8760, 8760, 8760,
            8760, 9144, 9144, 9144, 9144, 9528, 9528, 9528, 9528, 9528
           }
    prb_indx = n_prb - 1
    i_tbs |> elem(prb_indx)
  end


end
